{% extends 'base.html' %}

{% block content %}
  <h1>Modifica Carta</h1>

  <form method="post">
    <label for="name">Nome della Carta *</label>
    <input type="text" id="name" name="name" value="{{ card['name'] }}" required>

    <label for="set_name">Nome del Set *</label>
    <input type="text" id="set_name" name="set_name" value="{{ card['set_name'] }}" required>

    <label for="card_number">Numero della Carta</label>
    <input type="text" id="card_number" name="card_number" value="{{ card['card_number'] }}">

    <label for="rarity">Rarità</label>
    <select id="rarity" name="rarity">
      <option value="">Seleziona rarità</option>
      <option value="Common" {% if card['rarity'] == 'Common' %}selected{% endif %}>Common</option>
      <option value="Uncommon" {% if card['rarity'] == 'Uncommon' %}selected{% endif %}>Uncommon</option>
      <option value="Rare" {% if card['rarity'] == 'Rare' %}selected{% endif %}>Rare</option>
      <option value="Holographic Rare" {% if card['rarity'] == 'Holographic Rare' %}selected{% endif %}>Holographic Rare</option>
      <option value="Ultra Rare" {% if card['rarity'] == 'Ultra Rare' %}selected{% endif %}>Ultra Rare</option>
      <option value="Secret Rare" {% if card['rarity'] == 'Secret Rare' %}selected{% endif %}>Secret Rare</option>
      <option value="1st Edition" {% if card['rarity'] == '1st Edition' %}selected{% endif %}>1st Edition</option>
      <option value="Shiny" {% if card['rarity'] == 'Shiny' %}selected{% endif %}>Shiny</option>
      <option value="Full Art" {% if card['rarity'] == 'Full Art' %}selected{% endif %}>Full Art</option>
    </select>

    <label for="condition">Condizione</label>
    <select id="condition" name="condition">
      <option value="Near Mint" {% if card['condition'] == 'Near Mint' %}selected{% endif %}>Near Mint</option>
      <option value="Lightly Played" {% if card['condition'] == 'Lightly Played' %}selected{% endif %}>Lightly Played</option>
      <option value="Moderately Played" {% if card['condition'] == 'Moderately Played' %}selected{% endif %}>Moderately Played</option>
      <option value="Heavily Played" {% if card['condition'] == 'Heavily Played' %}selected{% endif %}>Heavily Played</option>
      <option value="Damaged" {% if card['condition'] == 'Damaged' %}selected{% endif %}>Damaged</option>
    </select>

    <label for="quantity">Quantità</label>
    <input type="number" id="quantity" name="quantity" value="{{ card['quantity'] }}" min="1">

    <label for="price">Prezzo Unitario (€)</label>
    <input type="number" id="price" name="price" step="0.01" min="0" value="{{ card['price'] }}">

    <label for="image_url">URL Immagine (opzionale)</label>
    <input type="url" id="image_url" name="image_url" value="{{ card['image_url'] or '' }}">

    <input type="submit" value="Salva Modifiche">
  </form>

  <div style="margin-top: 30px;">
    <a href="{{ url_for('main.index') }}" class="btn">Torna alla Collezione</a>
  </div>
{% endblock %}